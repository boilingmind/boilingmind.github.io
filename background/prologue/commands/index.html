<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.4683fe9bba590317b552ce7930ced157a98cb5efa42dcf3c9c728d6951becdc0b0ce4cd241a88afe17dd5ae36182d00375be6dfd2041294fda237ca825aad86c.css integrity="sha512-RoP+m7pZAxe1Us55MM7RV6mMte+kLc88nHKNaVG+zcCwzkzSQaiK/hfdWuNhgtADdb5t/SBBKU/aI3yoJarYbA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Implementation :: boiling mind</title><meta name=description content="Doks comes with commands for common tasks."><link rel=canonical href=/background/prologue/commands/><meta name=twitter:card content="summary"><meta name=twitter:title content="Implementation"><meta name=twitter:description content="Doks comes with commands for common tasks."><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta property="og:title" content="Implementation"><meta property="og:description" content="Doks comes with commands for common tasks."><meta property="og:type" content="article"><meta property="og:url" content="/background/prologue/commands/"><meta property="article:published_time" content="2020-10-13T15:21:01+02:00"><meta property="article:modified_time" content="2020-10-13T15:21:01+02:00"><meta property="og:site_name" content="boiling mind"><meta property="article:publisher" content="https://www.facebook.com/"><meta property="article:author" content="https://www.facebook.com/"><meta property="og:locale" content><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"\/"},{"@type":"ListItem","position":2,"name":"Backgroundprologuecommands","item":"\/backgroundprologuecommands\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class="background single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=/>boiling mind</a><ul class="navbar-nav social-nav order-3 order-md-5"></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=/background/prologue/introduction/>Background</a></li><li class=nav-item><a class=nav-link href=/blog/>Updates</a></li><li class=nav-item><a class=nav-link href=/papers/>Publications</a></li><li class=nav-item><a class=nav-link href=/about/>Contributors</a></li></ul><div class="break order-6 d-md-none"></div></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>background</h3><ul class=list-unstyled><li><a class=docs-link href=/background/prologue/introduction/>Introduction</a></li><li><a class=docs-link href=/background/prologue/quick-start/>Perfromance Details</a></li><li><a class="docs-link active" href=/background/prologue/commands/>Implementation</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#sensing-eda-and-heart-activity>Sensing EDA and Heart Activity</a></li><li><a href=#visualizations>Visualizations</a></li><li><a href=#audio>Audio</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Implementation</h1><p class=lead>Doks comes with commands for common tasks.</p><p>The collected physiological data of the audience is transmitted to the server over WiFi. The server re-streams the processed data to other computers controlling each staging element.</p><h2 id=sensing-eda-and-heart-activity>Sensing EDA and Heart Activity<a href=#sensing-eda-and-heart-activity class=anchor aria-hidden=true>#</a></h2><p>For this project we built wrist-worn devices measuring EDA from 2 electrodes on the fingers, and the heart rate using an optical blood volume pulse sensor. EDA signal was sampled at 4.545 Hz and the heart rate sensor at 50Hz.
The recorded data was buffered in 400ms chunks and streamed to the server 2.5 times per second. The device was built around the ESP32 module with Bluetooth and WiFi connectivity. Internally the device samples the blood volume pulse at 500 Hz and runs heart beat detection on the 500 Hz data. Every 10th sample (50Hz), beats per minute and inter-beat interval were streamed to the server. EDA is sampled at 4.545 Hz, is digitally filtered and sent to the server as well, both raw values for recording and further analysis, and filtered values for visualisations. Transient response time of the filter output is guaranteed to be within 5% of the steady state in 10 seconds, this is necessary to provide smooth signal for the visuals generation without the noise from touching or adjusting the electrodes. In order to save energy, each device is buffering all the data in every 400ms window and sends out the buffer 2.5 times per second.
The server software was recording and re-streaming the data to other machines used for staging controls . Stress tests showed that our system could handle up to 60 devices using a Netgear Nighthawk series WiFi router. Calculation of the HRV parameters such as LF/HF ratio was done on the server side. The aggregated and processed data was sent out to other machines in OSC format over UDP protocol via an Ethernet link.</p><p>%In order to maintain the 50 Hz data rate, the server was buffering the stream from each device and gradually FIFO de-buffering it. To smooth out the possible network delays without sacrificing the quality of the visualisations, the server was gradually reducing or increasing the OSC stream rate if there was less than 300ms or more than 500ms of data buffered. The delay between a data sample originating on a device and its effect on the visuals was averaging to about 400-500ms.</p><h2 id=visualizations>Visualizations<a href=#visualizations class=anchor aria-hidden=true>#</a></h2><p>We projected the visualizations rendered based on the audience physiological responses. Since the projection was covering the whole stage, it played a significant role in setting the mood and atmosphere. In the design process of the visualisations we had the following considerations and requirements:</p><ul><li>Visualisations should reflect audiences' physiological reactions in real-time.</li><li>Visualisations have to be easy to understand by both audience and dancers at a glance.</li><li>Visualisations have to reflect the atmosphere, tone and story of each scene.</li></ul><p>Visualisations were rendered and projected onto the stage using [TouchDesigner]{https://derivative.ca} software. We used 3 projectors so that the visualizations could cover the whole space. We based the visual design around an intuitively comprehensible color scheme. A number of studies indicate that individuals tend to associate red colors with arousal and excitation whereas blue colors are associated with quietness and relaxation. Therefore, in our design we used warm colors such as red to represent arousal and cold colors such as blue to represent relaxation. The LF/HF ratio was mapped to the blue and red extremes of a gradient as shown in Figure \ref{fig:MappingHFLFandColors}. The predominant color of the visualisations changed according to either the real-time average LF/HF ratio of the whole audience or one particular spectator&rsquo;s data.</p><p>%We designed multiple types of visuals using this color mapping, such as one that changes according to the real-time average HF/LF ratio of all the audience members, or one that focuses on a particular audience member and visualizes the HF/LF ratio.</p><p>The EDA signal was mapped to the visuals as well. EDA signal interpretation concentrates on the rate of change rather than the absolute values. For each visualization, the rate of change of the EDA signal affected the visualizations' movement speed. That is, the faster the EDA changed, the more intense the movement of the visualizations became. As a result, the audience and the dancers may understand the extent of the audience reaction from the movement of the visualization.</p><h2 id=audio>Audio<a href=#audio class=anchor aria-hidden=true>#</a></h2><p>The audio setup for this work consisted of 11 speakers: 9 small mono speakers placed on the ceiling, and two large speakers on the floor at the back of the stage. The small speakers on the ceiling were used primarily for supplemental sound design.%, such as manipulated recordings of the dancers stomping in their high heels.</p><p>These sounds were faded in along with excitement levels of the audience. We decided upon this approach as a way to not only allow the audience data to guide another aspect of the performance, but also to give the dancers a sonic cue of how engaged the audience was during these moments. The upper speakers were also responsible for projecting additional timbral layers in several scenes. Overall, the disbursement of the cumulative soundscapes was divided up with roughly three-quarters of the audio layers assigned to the main speakers and the remaining quarter of the audio layers assigned to the ceiling speakers. This was decided after conducting several trials, in which this balance between consistent audio and supplemental/reactive audio was found to be strongest for the production team and the performers.%with roughly 75% of the sound coming from the main speakers, with the remaining 25% from the ceiling. This added a more immersive sonic experience while also creating a slight divide between the structural music and the supplemental data-driven sound design.</p><h1 id=lighting>Lighting</h1><p>The interactive lighting system consisted of 6 moving head lights on two axes placed around the stage. There were 2 light modes: mode 1 was used in several scenes, while mode 2 was used during one of the performance scenes.
In the first mode, 6 members from the audience were selected with their HR data mapped to the intensity of the corresponding light. When more than one person had similar beats per minute (BPM) rate, they would be considered as a group.</p><p>The lights corresponding to this group would move to point at each other. When someone&rsquo;s BPM changed to a different value from the rest of the group, the corresponding light would move back to its initial position. The light would then be re-assigned to a different member.</p><p>Once a mode was switched on, the lighting can function automatically until switched to a different mode.
Thus, the lighting design complements the visualization of the audience as a group or as an individual. In addition, it also affected the dancers by highlighting the inner states of the audience through brightness levels and lighting movements.</p><div class="docs-navigation d-flex justify-content-between"><a href=/background/prologue/quick-start/><div class="card my-1"><div class="card-body py-2">&larr; Perfromance Details</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-right"><ul class=list-inline><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/main.f6b484f556ad1f3bcf6061082139a2f21fa759f13930c39a25fe4a9f78f35e64122c2d86dffd56e67b292dabbda4095d8077194f196e0e348441c106a9f3d40e.js integrity="sha512-9rSE9VatHzvPYGEIITmi8h+nWfE5MMOaJf5Kn3jzXmQSLC2G3/1W5nspLau9pAldgHcZTxluDjSEQcEGqfPUDg==" crossorigin=anonymous defer></script><script src=/index.min.95c2fb57984ca6cb1914e6658c1095cc47073a398c805d5ee842114fab739d64b4d5cd0626cda1be56c95e7f8c6e9c4d231866d1065245c873d731a6a7b01c5e.js integrity="sha512-lcL7V5hMpssZFOZljBCVzEcHOjmMgF1e6EIRT6tznWS01c0GJs2hvlbJXn+MbpxNIxhm0QZSRchz1zGmp7AcXg==" crossorigin=anonymous defer></script></body></html>